
{
	"info": {
		"_postman_id": "odoo-v18-migration-tools-v1",
		"name": "Odoo v18 Migration Tools",
		"description": "مجموعة طلبات خاصة بمشروع ترحيل وتنظيم المنتجات لنظام Odoo v18. تحتوي على المصادقة وجلب البيانات الأساسية (المنتجات، العملات، الخصائص، الوحدات).",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Odoo v18 Tools",
			"item": [
				{
					"name": "1. Authenticate (Get Key)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"if (jsonData['api-key']) {",
									"    pm.collectionVariables.set(\"api_key\", jsonData['api-key']);",
									"    console.log(\"API Key Set: \" + jsonData['api-key']);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "login",
								"value": "{{login}}",
								"type": "text"
							},
							{
								"key": "password",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "db",
								"value": "{{db}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/odoo_connect",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"odoo_connect"
							]
						},
						"description": "يقوم بتسجيل الدخول واستخراج API Key وحفظه في متغيرات المجموعة لاستخدامه في الطلبات التالية."
					},
					"response": []
				},
				{
					"name": "2. System Health Check",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "login",
								"value": "{{login}}",
								"type": "text"
							},
							{
								"key": "password",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "api-key",
								"value": "{{api_key}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"model\": \"res.company\",\n    \"method\": \"api_check_system_health\",\n    \"ids\": [1],\n    \"args\": [],\n    \"kwargs\": {}\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/call_method",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"call_method"
							]
						},
						"description": "يفحص حالة النظام وتوفر الموديولات المطلوبة."
					},
					"response": []
				},
				{
					"name": "3. Fetch Products",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "login",
								"value": "{{login}}",
								"type": "text"
							},
							{
								"key": "password",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "api-key",
								"value": "{{api_key}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"model\": \"product.product\",\n  \"domain\": [\"|\", [\"sale_ok\", \"=\", true], [\"purchase_ok\", \"=\", true]],\n  \"fields\": [\n    \"id\", \"name\", \"display_name\", \"default_code\", \"lst_price\", \"standard_price\",\n    \"qty_available\", \"uom_id\", \"tracking\", \"categ_id\", \"currency_id\",\n    \"barcode\", \"weight\", \"sale_ok\", \"purchase_ok\", \"type\",\n    \"allow_variable_dimensions\", \"price_per_sqm\", \"variant_price_per_sqm\",\n    \"product_template_attribute_value_ids\", \"image_128\"\n  ],\n  \"limit\": 300,\n  \"order\": \"id desc\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/send_request?model=product.product",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"send_request"
							],
							"query": [
								{
									"key": "model",
									"value": "product.product"
								}
							]
						},
						"description": "جلب المنتجات وتفاصيلها (مثل الباركود، الأسعار، الوحدات، الصور المصغرة)."
					},
					"response": []
				},
				{
					"name": "4. Fetch Currencies",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "login",
								"value": "{{login}}",
								"type": "text"
							},
							{
								"key": "password",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "api-key",
								"value": "{{api_key}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"domain\": [[\"active\", \"=\", true]],\n  \"fields\": [\"id\", \"name\", \"symbol\", \"position\", \"active\", \"rate\"],\n  \"order\": \"id asc\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/send_request?model=res.currency",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"send_request"
							],
							"query": [
								{
									"key": "model",
									"value": "res.currency"
								}
							]
						},
						"description": "جلب العملات النشطة لحساب أسعار الصرف."
					},
					"response": []
				},
				{
					"name": "5. Fetch Attributes",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "login",
								"value": "{{login}}",
								"type": "text"
							},
							{
								"key": "password",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "api-key",
								"value": "{{api_key}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"domain\": [],\n  \"fields\": [\"id\", \"name\", \"display_type\", \"create_variant\"],\n  \"order\": \"name asc\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/send_request?model=product.attribute",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"send_request"
							],
							"query": [
								{
									"key": "model",
									"value": "product.attribute"
								}
							]
						},
						"description": "جلب تعريفات خصائص المنتجات (مثل اللون، المقاس)."
					},
					"response": []
				},
				{
					"name": "6. Fetch Attribute Values",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "login",
								"value": "{{login}}",
								"type": "text"
							},
							{
								"key": "password",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "api-key",
								"value": "{{api_key}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"domain\": [],\n  \"fields\": [\"id\", \"name\", \"attribute_id\"],\n  \"order\": \"attribute_id asc, name asc\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/send_request?model=product.attribute.value",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"send_request"
							],
							"query": [
								{
									"key": "model",
									"value": "product.attribute.value"
								}
							]
						},
						"description": "جلب قيم الخصائص (مثل أحمر، أزرق، XL)."
					},
					"response": []
				},
				{
					"name": "7. Fetch UOMs",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "login",
								"value": "{{login}}",
								"type": "text"
							},
							{
								"key": "password",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "api-key",
								"value": "{{api_key}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"domain\": [],\n  \"fields\": [\"id\", \"name\"],\n  \"order\": \"id asc\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/send_request?model=uom.uom",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"send_request"
							],
							"query": [
								{
									"key": "model",
									"value": "uom.uom"
								}
							]
						},
						"description": "جلب وحدات القياس المتاحة."
					},
					"response": []
				},
				{
					"name": "8. Fetch Pricelists",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "login",
								"value": "{{login}}",
								"type": "text"
							},
							{
								"key": "password",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "api-key",
								"value": "{{api_key}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"domain\": [],\n  \"fields\": [\"id\", \"name\", \"currency_id\"],\n  \"order\": \"id asc\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/send_request?model=product.pricelist",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"send_request"
							],
							"query": [
								{
									"key": "model",
									"value": "product.pricelist"
								}
							]
						},
						"description": "جلب قوائم الأسعار لربط العملات."
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "https://odoo.smartsoftapp.cloud",
			"type": "string",
			"description": "رابط السيرفر"
		},
		{
			"key": "login",
			"value": "borihy@gmail.com",
			"type": "string",
			"description": "اسم المستخدم"
		},
		{
			"key": "password",
			"value": "admin",
			"type": "string",
			"description": "كلمة المرور"
		},
		{
			"key": "db",
			"value": "odoo1",
			"type": "string",
			"description": "اسم قاعدة البيانات"
		},
		{
			"key": "api_key",
			"value": "",
			"type": "string",
			"description": "سيتم تعبئته تلقائياً عند تشغيل طلب المصادقة"
		}
	]
}
